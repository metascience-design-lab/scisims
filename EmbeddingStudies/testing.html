<!DOCTYPE HTML>
<html>
	<head>
		<h2 style = >Embedding a Study in an iframe</h2>
		<link rel = "stylesheet" type = "text/css" href = "style.css">
		<meta charset="UTF-8">
	</head>

	<body>
		<div id = "frame">
			<vbox>
				<button onclick="document.getElementById('iframe').src='text.html'">Text</button>
				<button onclick="document.getElementById('iframe').src='video.html'">Video</button>
				<button onclick="document.getElementById('iframe').src='sim.html'">Simulation</button>
			</vbox>
			<iframe id = "iframe" src="https://implicit.harvard.edu/implicit/Launch?study=/user/kratliff/uflrick/manylabs/manylabs1/manylabs1.expt.xml&pID=0"></iframe>
		</div>
		<button onclick="window.location.href='https://osf.io/9xu5b/'">Source</button>
		<button onclick = "requestFullScreen(document.body, 'iframe')">FullScreen</button>
</html>

<script>
	var activeID = null;

	function requestFullScreen(element, id) {
		activeID = id;
    // Supports most browsers and their versions.
    var requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;

    if (requestMethod) { // Native full screen.
        requestMethod.call(element);
    } else if (typeof window.ActiveXObject !== "undefined") { // Older IE.
        var wscript = new ActiveXObject("WScript.Shell");
        if (wscript !== null) {
            wscript.SendKeys("{F11}");
        }
    }
	}

	document.addEventListener('fullscreenchange', function() {
		updateFullScreen();
	}, false);
	document.addEventListener('webkitfullscreenchange', function() {
		updateFullScreen();
	}, false);
	document.addEventListener('mozfullscreenchange', function() {
		updateFullScreen();
	}, false);
	document.addEventListener('msfullscreenchange', function() {
		updateFullScreen();
	}, false);

	function updateFullScreen() {
		if (document.fullscreenElement != null || document.webkitFullscreenElement != null || document.mozFullScreenElement != null || document.msFullscreenElement != null)
			document.getElementById(activeID).classList.add("fullscreen")
		else {
			document.getElementById(activeID).classList.remove("fullscreen")
		}
	}
</script>
